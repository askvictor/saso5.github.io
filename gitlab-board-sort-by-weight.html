<!DOCTYPE html>
<html>
<head>
<title>GitLab board sort by weight bookmarklet v2</title>
</head>

<script>
/* script
document.getElementsByClassName('board-list').forEach(board => {
	const cards = board.getElementsByClassName('board-info-items');
	var weightMap = [];
	
	cards.forEach(item => {
		var weight = item.getElementsByClassName('board-card-weight').item(0)?.getElementsByClassName('board-card-info-text').item(0)?.innerHTML || 0;
		const card = item.parentNode.parentNode.parentNode.parentNode;
		
		weightMap.push([ 1 * weight, card]);
	});
	
	weightMap.sort(function(x, y) {
		return y[0] - x[0];
	});
	
	weightMap.forEach(element => board.appendChild(element[1]));
});
*/

</script>

<body>
<h1>GitLab board sort by weight bookmarklet v2</h1>
<p>Drag the anchor to the bookmark toolbar</p>

<a href="javascript:document.getElementsByClassName('board-list').forEach(board => {	const cards = board.getElementsByClassName('board-info-items');	var weightMap = [];		cards.forEach(item => {		var weight = item.getElementsByClassName('board-card-weight').item(0)?.getElementsByClassName('board-card-info-text').item(0)?.innerHTML || 0;		const card = item.parentNode.parentNode.parentNode.parentNode;				weightMap.push([ 1 * weight, card]);	});		weightMap.sort(function(x, y) {		return y[0] - x[0];	});		weightMap.forEach(element => board.appendChild(element[1]));});">
Sort board
</a>
<br/><br/><br/><br/><br/><br/><br/>
	
<b>Installation instructions</b><br/>
<img src="gitlab-board-sort-by-weight.gif"/>

</body>
</html>
